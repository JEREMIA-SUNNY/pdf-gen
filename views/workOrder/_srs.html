{% macro detail_item(label, value) %}
<p style="margin-bottom: 12px;">
    <strong style="font-size: 14px;">{{ label }}</strong><br>
    {% if value %}
        {% if '\n' in value %}
            <span style="white-space: pre-line;">{{ value }}</span>
        {% else %}
            <span>{{ value }}</span>
        {% endif %}
    {% else %}
        <span>N/A</span>
    {% endif %}
</p>
{% endmacro %}

{% if srs and srs[0] %}
<div class="section page-break">
  <div class="section-title">Strain Relief Sleeve & Marker Details </div>

  {# Vertical display of sleeve types using macro #}
  {{ detail_item("Strain Relief Sleeve Type", srs[0].strainReliefSleeveType) }}
  {{ detail_item("Marker Sleeve Type", srs[0].markerSleeveType) }}

  <table class="data-table">
    <thead>
      <tr>
        <th>Strain Relief Sleeve</th>
        <th>Marker Sleeve</th>
        <th>NKRF Part No</th>
        <th>Assembly Length</th>
        <th>SRS Sleeves</th>
        <th>SRS Length</th>
        <th>No. of Markers</th>
        <th>Marker Length</th>
        <th>Font</th>
      </tr>
    </thead>
    <tbody>
      {% for m in srs %}
      <tr>
        <td>{{ m.strainReliefSleeveType or 'N/A' }}</td>
        <td>{{ m.markerSleeveType or 'N/A' }}</td>
        <td>{{ m.nkrfPartNumber or 'N/A' }}</td>
        <td>{{ m.assemblyLength or 'N/A' }}</td>
        <td>{{ m.noOfSrsSleeves or 'N/A' }}</td>
        <td>{{ m.srsLength or 'N/A' }}</td>
        <td>{{ m.noOfMarkers or 'N/A' }}</td>
        <td>{{ m.markerLength or 'N/A' }}</td>
        <td>{{ m.font or 'N/A' }}</td>
      </tr>
      {% endfor %}
    </tbody>
  </table>

  {% if srs[0].additionalMarkerSleeveDetails %}
    {{ detail_item("Additional Marker Details", srs[0].additionalMarkerSleeveDetails) }}
  {% endif %}

  {% for m in srs %}
    {% if m.customerMarkerDetailsDrawing %}
      {{ detail_item("Marker Drawing Available", "PDF drawing attached - reference: " ~ m.customerMarkerDetailsDrawing[:50] ~ "...") }}
    {% endif %}
  {% endfor %}
</div>
{% endif %}
